<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read a tab-delimited SGE accounting file (without parsing it) — read_raw_sge_accounting • wyntonquery</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Read a tab-delimited SGE accounting file (without parsing it) — read_raw_sge_accounting"><meta property="og:description" content="Read a tab-delimited SGE accounting file (without parsing it)
Coerce to an 'sge_accounting' Object
Locate the SGE Accounting File on the Current System
Read an SGE accounting
Parse SGE Accounting 'category' Field
Table of SGE failed codes with descriptions"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">wyntonquery</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0-9009</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/qstat.html">Jobs on the SGE queue</a>
    </li>
    <li>
      <a href="../articles/sge_accounting_file.html">SGE Accounting File</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ucsf-wynton/wyntonquery/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read a tab-delimited SGE accounting file (without parsing it)</h1>
    <small class="dont-index">Source: <a href="https://github.com/ucsf-wynton/wyntonquery/blob/HEAD/R/sge_accounting.R" class="external-link"><code>R/sge_accounting.R</code></a></small>
    <div class="hidden name"><code>read_sge_accounting.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Read a tab-delimited SGE accounting file (without parsing it)</p>
<p>Coerce to an 'sge_accounting' Object</p>
<p>Locate the SGE Accounting File on the Current System</p>
<p>Read an SGE accounting</p>
<p>Parse SGE Accounting 'category' Field</p>
<p>Table of SGE failed codes with descriptions</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_raw_sge_accounting</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  offset <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  n_max <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  skip <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">is.character</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="va">offset</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="fl">4L</span> <span class="kw">else</span> <span class="fl">0L</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">write_raw_sge_accounting</span><span class="op">(</span><span class="va">x</span>, <span class="va">file</span>, header <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"header"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">as_sge_accounting</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for raw_sge_accounting</span></span>
<span><span class="fu">as_sge_accounting</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for sge_accounting</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pretty"</span>, <span class="st">"raw"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sge_accounting_file</span><span class="op">(</span></span>
<span>  filename <span class="op">=</span> <span class="st">"accounting"</span>,</span>
<span>  path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">file.path</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SGE_ROOT"</span>, <span class="st">"SGE_CELL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="st">"common"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_sge_accounting</span><span class="op">(</span>file <span class="op">=</span> <span class="fu">sge_accounting_file</span><span class="op">(</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">parse_category</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for sge_accounting</span></span>
<span><span class="fu">parse_category</span><span class="op">(</span><span class="va">x</span>, properties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"h_rt"</span>, <span class="st">"s_rt"</span>, <span class="st">"mem_free"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sge_failed_codes</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p>(character) The SGE <code class="file">accounting</code> file to read.</p></dd>


<dt>offset</dt>
<dd><p>The file offset position (in bytes) from where to start reading.</p></dd>


<dt>n_max</dt>
<dd><p>(numeric) The maximum number of rows to read.</p></dd>


<dt>skip</dt>
<dd><p>(integer) Number of lines to skip before parsing file content.</p></dd>


<dt>x</dt>
<dd><p>An <code>sge_accounting</code> object.</p></dd>


<dt>header</dt>
<dd><p>(character vector) Zero of more header lines to be written
at the top of the file.</p></dd>


<dt>format</dt>
<dd><p>Either <code>"pretty"</code> or <code>"raw"</code>.</p></dd>


<dt>filename</dt>
<dd><p>(character string) The name of the accounting file.</p></dd>


<dt>path</dt>
<dd><p>(character string) The path to the accounting file.</p></dd>


<dt>properties</dt>
<dd><p>(character vector) The properties to extract.</p></dd>


<dt>...</dt>
<dd><p>(optional) Not used.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>(character string) The pathname to the SGE accounting file.
If not found, and error is thrown.</p>


<p>A <code>tibble</code> data frame with columns:</p><ul><li><p><code>qname</code> (character) - name of the cluster queue in which the job has run</p></li>
<li><p><code>hostname</code> (character) - name of the execution host</p></li>
<li><p><code>group</code> (character) - the effective group id of the job owner when
executing the job</p></li>
<li><p><code>owner</code> (character) - owner of the Grid Engine job</p></li>
<li><p><code>job_name</code> (character) - job name</p></li>
<li><p><code>job_number</code> (integer) - job identifier</p></li>
<li><p><code>account</code> (character) - an account string as specified by the <code>qsub</code> or <code>qalter</code></p></li>
<li><p><code>priority</code> (integer) - priority value assigned to the job</p></li>
<li><p><code>submission_time</code> (dttm) - submission time</p></li>
<li><p><code>start_time</code> (dttm) - start time</p></li>
<li><p><code>end_time</code> (dttm) - end time</p></li>
<li><p><code>failed</code> (integer) - indicates the problem which occurred in case a job
failed (at the system level, as opposed to the job script or binary having
non-zero exit status).  Indicates the problem which occurred in case a job
could not be started on the execution host (e.g. because the owner of the
job did not have a valid account on that machine). If Sun Grid Engine
tries to start a job multiple times, this may lead to multiple entries in
the accounting file corresponding to the same job ID</p></li>
<li><p><code>exit_status</code> (integer) - exit status of the job script (or Grid
Engine-specific status in case of certain error conditions).
The exit status is determined by following the normal shell conventions.
If the command terminates normally the value of the command is its exit
status. However, in the case that the command exits abnormally, a value
of 0200 (octal), 128 (decimal) is added to the value of the command to
make up the exit status.
For example: If a job dies through signal 9 (<code>SIGKILL</code>) - probably issued
by Grid Engine through <code>qdel</code>, or because the job exceeded time or memory
hard limits - then the exit status is 128 + 9 = 137.</p></li>
<li><p><code>ru_wallclock</code> (drtn) - Difference between 'end_time' and 'start_time'
(time interval), except that if the job fails, it is zero.</p></li>
<li><p><code>ru_utime</code> (drtn) - user CPU time (in seconds) used, i.e. total amount of
time spent executing in user mode</p></li>
<li><p><code>ru_stime</code> (drtn) - system CPU time (in seconds) used, i.e. total amount
of time spent executing in kernel mode</p></li>
<li><p><code>ru_maxrss</code> (character) - maximum resident set size (in kB)</p></li>
<li><p><code>ru_ixrss</code> (character) - integral shared memory size (in kB) [UNUSED]</p></li>
<li><p><code>ru_ismrss</code> (character) - ???</p></li>
<li><p><code>ru_idrss</code> (character) - integral unshared data size (in kB) [UNUSED]</p></li>
<li><p><code>ru_isrss</code> (character) - integral unshared stack size (in kB) [UNUSED]</p></li>
<li><p><code>ru_minflt</code> (numeric) - page reclaims (soft page faults)</p></li>
<li><p><code>ru_majflt</code> (numeric) - page faults (hard page faults)</p></li>
<li><p><code>ru_nswap</code> (numeric) - number of swaps [UNUSED]</p></li>
<li><p><code>ru_inblock</code> (numeric) - number of block input operations</p></li>
<li><p><code>ru_oublock</code> (numeric) - number of block output operations</p></li>
<li><p><code>ru_msgsnd</code> (numeric) - number of IPC messages sent [UNUSED]</p></li>
<li><p><code>ru_msgrcv</code> (numeric) - number of IPC messages received [UNUSED]</p></li>
<li><p><code>ru_nsignals</code> (numeric) - number of signals received</p></li>
<li><p><code>ru_nvcsw</code> (numeric) - number of voluntary context switches (number of
times a context switch resulted due to a process voluntarily giving up
the processor before its time slice was completed (usually to await
availability of a resource)</p></li>
<li><p><code>ru_nivcsw</code> (numeric) - number of involuntary context switches (number of
times a context switch resulted due to a higher priority process becoming
runnable or because the current process exceeded its time slice)</p></li>
<li><p><code>project</code> (character) -</p></li>
<li><p><code>department</code> (character) -</p></li>
<li><p><code>granted_pe</code> (character) - the parallel environment which was selected
for the job</p></li>
<li><p><code>slots</code> (integer) - the number of slots which were dispatched to the job
by the scheduler</p></li>
<li><p><code>task_number</code> (integer) -</p></li>
<li><p><code>cpu</code> (drtn) - The CPU time usage (in seconds)</p></li>
<li><p><code>mem</code> (character) - the integral memory usage (in GB seconds)</p></li>
<li><p><code>io</code> (character) - the amount of data transferred in input/output
operations (in GB) if available, otherwise <code>0</code></p></li>
<li><p><code>category</code> (character) -</p></li>
<li><p><code>iow</code> (drtn) - the input/output wait time (in seconds) if available,
otherwise 0</p></li>
<li><p><code>pe_taskid</code> (character) - if this identifier is not equal to <code>NONE</code>, the
task was part of parallel job, and was passed to Grid Engine via the
<code>qrsh</code>-inherit interface</p></li>
<li><p><code>maxvmem</code> (numeric) - the maximum vmem size (in bytes)</p></li>
<li><p><code>arid</code> (numeric) - advance reservation identifier</p></li>
<li><p><code>ar_sub_time</code> (dttm) - advance reservation submission time, if the job
uses the resources of an advance reservation, otherwise <code>0</code></p></li>
</ul><p>A <code>tibble</code> data frame with columns corresponding to the requested
properties.</p>


<p>A tibble</p>
    </div>
    <div id="location-of-the-sge-accounting-file">
    <h2>Location of the SGE accounting file</h2>
    

<p>The SGE <code class="file">accounting</code> file is typically located in a subfolder of
the folder <code class="file">$SGE_ROOT/$SGE_CELL/</code>.  On Wynton HPC, the pathname
is given by <code>sge_accounting_file()</code>.</p>
    </div>
    <div id="file-offset-positions-for-each-job-entry">
    <h2>File offset positions for each job entry</h2>
    

<p>If you know the file offset (in bytes) for the first job entry you wish to read,
then specify it via argument <code>offset</code>.  This speeds up the reading, because it
avoids having to parse jobs from the beginning.  To find the file offsets for
job entries, see <code><a href="make_file_index.html">make_file_index()</a></code>.</p>
    </div>
    <div id="failed-code">
    <h2>Failed code</h2>
    
<table class="table table"><tr><td>Code</td><td>Description</td><td>OK</td><td>Explanation</td></tr><tr><td>0</td><td>no failure</td><td>Y</td><td>ran and exited normally</td></tr><tr><td>1</td><td>assumedly before job</td><td>N</td><td>failed early in execd</td></tr><tr><td>3</td><td>before writing config</td><td>N</td><td>failed before execd set up local spool</td></tr><tr><td>4</td><td>before writing PID</td><td>N</td><td>shepherd failed to record its pid - filesystem problem?</td></tr><tr><td>6</td><td>setting processor set</td><td>N</td><td>failed setting up processor set (obsolete)</td></tr><tr><td>7</td><td>before prolog</td><td>N</td><td>failed before prolog</td></tr><tr><td>8</td><td>in prolog</td><td>N</td><td>failed in prolog</td></tr><tr><td>9</td><td>before pestart</td><td>N</td><td>failed before starting PE</td></tr><tr><td>10</td><td>in pestart</td><td>N</td><td>failed in PE starter</td></tr><tr><td>11</td><td>before job</td><td>N</td><td>failed in shepherd before starting job</td></tr><tr><td>12</td><td>before pestop</td><td>Y</td><td>ran, but failed before calling PE stop procedure</td></tr><tr><td>13</td><td>in pestop</td><td>Y</td><td>ran, but PE stop procedure failed</td></tr><tr><td>14</td><td>before epilog</td><td>Y</td><td>ran, but failed before calling epilog</td></tr><tr><td>15</td><td>in epilog</td><td>Y</td><td>ran, but failed in epilog</td></tr><tr><td>16</td><td>releasing processor set</td><td>Y</td><td>ran, but processor set could not be released (obsolete)</td></tr><tr><td>17</td><td>through signal</td><td>Y</td><td>job killed by signal (possibly qdel)</td></tr><tr><td>18</td><td>shepherd returned error</td><td>N</td><td>shepherd died somehow</td></tr><tr><td>19</td><td>before writing exit_status</td><td>N</td><td>shepherd didn't write reports correctly - probably program or machine crash</td></tr><tr><td>20</td><td>found unexpected error file</td><td>?</td><td>shepherd encountered a problem</td></tr><tr><td>21</td><td>in recognizing job</td><td>N</td><td>qmaster asked about an unknown job (not in accounting?)</td></tr><tr><td>24</td><td>migrating (checkpointing jobs)</td><td>Y</td><td>ran, will be migrated</td></tr><tr><td>25</td><td>rescheduling</td><td>Y</td><td>ran, will be rescheduled</td></tr><tr><td>26</td><td>opening output file</td><td>N</td><td>failed opening stderr/stdout file</td></tr><tr><td>27</td><td>searching requested shell</td><td>N</td><td>failed finding specified shell</td></tr><tr><td>28</td><td>changing to working directory</td><td>N</td><td>failed changing to start directory</td></tr><tr><td>29</td><td>AFS setup</td><td>N</td><td>failed setting up AFS security</td></tr><tr><td>30</td><td>application error returned</td><td>Y</td><td>ran and exited 100 - maybe re-scheduled</td></tr><tr><td>36</td><td>checking configured daemons</td><td>N</td><td>failed because of configured remote startup daemon</td></tr><tr><td>37</td><td>qmaster enforced h_rt, h_cpu, or h_vmem limit</td><td>Y</td><td>ran, but killed due to exceeding run time limit</td></tr><tr><td>38</td><td>adding supplementary group</td><td>N</td><td>failed adding supplementary gid to job</td></tr><tr><td>100</td><td>assumedly after job</td><td>Y</td><td>ran, but killed by a signal (perhaps due to exceeding resources), task died, shepherd died (e.g. node crash), etc.</td></tr></table><p>The following failed codes are specific to MS Windows:</p><table class="table table"><tr><td>Code</td><td>Description</td><td>OK</td><td>Explanation</td></tr><tr><td>31</td><td>accessing sgepasswd file</td><td>N</td><td>failed because sgepasswd not readable*</td></tr><tr><td>32</td><td>entry is missing in password file</td><td>N</td><td>failed because user not in sgepasswd*</td></tr><tr><td>33</td><td>wrong password</td><td>N</td><td>failed because of wrong password against sgepasswd*</td></tr><tr><td>34</td><td>communicating with Grid Engine Helper Service</td><td>N</td><td>failed because of failure of helper service*</td></tr><tr><td>35</td><td>before job in Grid Engine Helper Service</td><td>N</td><td>failed because of failure running helper service*</td></tr></table><p>Source: <code>man sge_status</code>.</p>
<p>In addition to the above, I, the package author, have tried to gathered
additional information about the below <code>failed</code> codes based on real-world
observations.</p><ul><li><p><code>21</code>: When this happens, both <code>qname</code> and <code>hostname</code> are <code>UNKNOWN</code>,
<code>qsub_time</code> is 0 ("Wed Dec 31 16:00:00 1969"),
<code>start_time</code> and <code>end_time</code> are 0 ("-/-"),
all run-time data, including <code>ru_wallclock</code>, are all <code>0</code>.
It appears to happen to old jobs (per <code>job_number</code>) from times
before one or more major downtimes.  Because of this, I believe
these are from jobs with <code>Eqw</code> state that SGE eventually tries
to flush out.</p></li>
</ul></div>
    <div id="common-exit-codes">
    <h2>Common exit codes</h2>
    
<table class="table table"><tr><td>Code</td><td>Description</td></tr><tr><td>0</td><td>Success</td></tr><tr><td>1</td><td>Catchall for general errors</td></tr><tr><td>2</td><td>Misuse of shell builtins (according to Bash documentation)</td></tr><tr><td>126</td><td>Command invoked cannot execute, e.g. <code>/dev/null</code></td></tr><tr><td>127</td><td>"command not found"</td></tr><tr><td>128</td><td>Invalid argument to exit, e.g. <code>exit 3.14</code></td></tr><tr><td>128 + n</td><td>Fatal error signal n</td></tr><tr><td>134</td><td>128 +   6 = 128 + <code>SIGABRT</code> - Abort signal from abort</td></tr><tr><td>135</td><td>128 +   7 = 128 + <code>SIGBUS</code>  - Bus error (bad memory access)</td></tr><tr><td>136</td><td>128 +   8 = 128 + <code>SIGFPE</code>  - Floating-point exception</td></tr><tr><td>137</td><td>128 +   9 = 128 + <code>SIGKILL</code></td></tr><tr><td>138</td><td>128 +  10 = 128 + <code>SIGUSR1</code></td></tr><tr><td>140</td><td>128 +  12 = 128 + <code>SIGUSR2</code></td></tr><tr><td>255</td><td>128 + 127 = Exit status out of range, e.g.<code>exit -1</code></td></tr></table><p>Comment: <code>exit</code> only takes integers in [0,255]</p>
    </div>
    <div id="benchmarking">
    <h2>Benchmarking</h2>
    

<p>The <code class="file">accounting</code> on Wynton HPC took ~2 minutes to read when it
was 4.8 GB in size and ~6-8 minutes when it was 12 GB in size.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    
<ul><li><p><code>man accounting</code></p></li>
<li><p><code>man sge_status</code></p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pathname</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"exdata"</span>, <span class="st">"accounting"</span>, package <span class="op">=</span> <span class="st">"wyntonquery"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">jobs</span> <span class="op">&lt;-</span> <span class="fu">read_raw_sge_accounting</span><span class="op">(</span><span class="va">pathname</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">jobs</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1,000 × 45</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    qname    hostname group  owner   job_name job_number account priority</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> member.q cin-id3  group4 owner09 sleep.sh          1 sge            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> member.q cin-id2  group4 owner09 sleep.sh          2 sge            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> long.q   cin-id2  group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> long.q   cin-id2  group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 990 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 37 more variables: submission_time &lt;dbl&gt;, start_time &lt;dbl&gt;, end_time &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   failed &lt;int&gt;, exit_status &lt;int&gt;, ru_wallclock &lt;dbl&gt;, ru_utime &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_stime &lt;dbl&gt;, ru_maxrss &lt;dbl&gt;, ru_ixrss &lt;dbl&gt;, ru_ismrss &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_idrss &lt;dbl&gt;, ru_isrss &lt;dbl&gt;, ru_minflt &lt;dbl&gt;, ru_majflt &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_nswap &lt;dbl&gt;, ru_inblock &lt;dbl&gt;, ru_oublock &lt;dbl&gt;, ru_msgsnd &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_msgrcv &lt;dbl&gt;, ru_nsignals &lt;dbl&gt;, ru_nvcsw &lt;dbl&gt;, ru_nivcsw &lt;dbl&gt;, …</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Anonymize (although actually already anonymized)</span></span></span>
<span class="r-in"><span><span class="va">jobs_anon</span> <span class="op">&lt;-</span> <span class="fu"><a href="anonymize.html">anonymize</a></span><span class="op">(</span><span class="va">jobs</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">jobs_anon</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1,000 × 45</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    qname    hostname group  owner   job_name job_number account priority</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> member.q cin-id3  group6 owner02 sleep.sh          1 sge            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> long.q   cc-id2   group6 owner02 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> long.q   cc-id2   group6 owner02 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> long.q   cc-id2   group6 owner02 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> long.q   cc-id2   group6 owner02 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> long.q   cc-id2   group6 owner02 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> long.q   cc-id2   group6 owner02 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> member.q cin-id2  group6 owner02 sleep.sh          2 sge            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> long.q   cin-id2  group6 owner02 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> long.q   cin-id2  group6 owner02 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 990 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 37 more variables: submission_time &lt;dbl&gt;, start_time &lt;dbl&gt;, end_time &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   failed &lt;int&gt;, exit_status &lt;int&gt;, ru_wallclock &lt;dbl&gt;, ru_utime &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_stime &lt;dbl&gt;, ru_maxrss &lt;dbl&gt;, ru_ixrss &lt;dbl&gt;, ru_ismrss &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_idrss &lt;dbl&gt;, ru_isrss &lt;dbl&gt;, ru_minflt &lt;dbl&gt;, ru_majflt &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_nswap &lt;dbl&gt;, ru_inblock &lt;dbl&gt;, ru_oublock &lt;dbl&gt;, ru_msgsnd &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_msgrcv &lt;dbl&gt;, ru_nsignals &lt;dbl&gt;, ru_nvcsw &lt;dbl&gt;, ru_nivcsw &lt;dbl&gt;, …</span></span>
<span class="r-in"><span><span class="va">pathname</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"exdata"</span>, <span class="st">"accounting"</span>, package <span class="op">=</span> <span class="st">"wyntonquery"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">jobs</span> <span class="op">&lt;-</span> <span class="fu">read_sge_accounting</span><span class="op">(</span><span class="va">pathname</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">jobs</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1,000 × 45</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    qname    hostname group  owner   job_name job_number account priority</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> member.q cin-id3  group4 owner09 sleep.sh          1 sge            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> member.q cin-id2  group4 owner09 sleep.sh          2 sge            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> long.q   cin-id2  group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> long.q   cin-id2  group4 owner09 sleep.sh          2 sge           19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 990 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 37 more variables: submission_time &lt;dttm&gt;, start_time &lt;dttm&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   end_time &lt;dttm&gt;, failed &lt;int&gt;, exit_status &lt;int&gt;, ru_wallclock &lt;drtn&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_utime &lt;drtn&gt;, ru_stime &lt;drtn&gt;, ru_maxrss &lt;chr&gt;, ru_ixrss &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_ismrss &lt;chr&gt;, ru_idrss &lt;chr&gt;, ru_isrss &lt;chr&gt;, ru_minflt &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_majflt &lt;dbl&gt;, ru_nswap &lt;dbl&gt;, ru_inblock &lt;dbl&gt;, ru_oublock &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ru_msgsnd &lt;dbl&gt;, ru_msgrcv &lt;dbl&gt;, ru_nsignals &lt;dbl&gt;, ru_nvcsw &lt;dbl&gt;, …</span></span>
<span class="r-in"><span><span class="co">## # A tibble: 1,000 x 45</span></span></span>
<span class="r-in"><span><span class="co">##    qname    hostname group  owner   job_name job_number account priority submission_time    </span></span></span>
<span class="r-in"><span><span class="co">##    &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;int&gt; &lt;chr&gt;      &lt;int&gt; &lt;dttm&gt;             </span></span></span>
<span class="r-in"><span><span class="co">##  1 member.q cin-id3  group4 owner09 sleep.sh          1 sge            0 2017-08-15 11:59:21</span></span></span>
<span class="r-in"><span><span class="co">##  2 long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19 2017-08-15 12:00:23</span></span></span>
<span class="r-in"><span><span class="co">##  3 long.q   cc-id2   group4 owner09 sleep.sh          2 sge           19 2017-08-15 12:00:23</span></span></span>
<span class="r-in"><span><span class="co">## ...</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Identify successful and failed jobs</span></span></span>
<span class="r-in"><span><span class="va">jobs_success</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">jobs</span>, <span class="va">failed</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">jobs_fail</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">jobs</span>, <span class="va">failed</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## CPU time consumed</span></span></span>
<span class="r-in"><span><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">jobs_success</span><span class="op">$</span><span class="va">cpu</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">jobs_fail</span><span class="op">$</span><span class="va">cpu</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"days"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time differences in days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1283.6721  328.9508</span>
<span class="r-in"><span><span class="co">## Time differences in days</span></span></span>
<span class="r-in"><span><span class="co">## [1] 1283.6721  328.9508</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Fraction of successful and failed CPU time</span></span></span>
<span class="r-in"><span><span class="va">u</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">t</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">u</span> <span class="op">&lt;-</span> <span class="va">u</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">u</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">u</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"success"</span>, <span class="st">"failed"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">u</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   success    failed </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.7960151 0.2039849 </span>
<span class="r-in"><span><span class="co">##   success    failed </span></span></span>
<span class="r-in"><span><span class="co">## 0.7960151 0.2039849</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

